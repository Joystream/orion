"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SchemaError = exports.validate = void 0;
const schemasafe_1 = require("@exodus/schemasafe");
function validate(obj, schema) {
    let validate = (0, schemasafe_1.validator)(schema, {
        includeErrors: true,
        complexityChecks: true,
        requireSchema: true
    });
    if (validate(obj))
        return;
    let err = validate.errors?.[0];
    throw new SchemaError(err.instanceLocation, err.keywordLocation);
}
exports.validate = validate;
class SchemaError extends Error {
    constructor(path, schemaPath) {
        super(`invalid property: ${path}`);
        this.path = path;
        this.schemaPath = schemaPath;
    }
    get name() {
        return 'SchemaError';
    }
}
exports.SchemaError = SchemaError;
//# sourceMappingURL=validate.js.map