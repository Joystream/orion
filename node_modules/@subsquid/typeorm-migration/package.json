{
  "name": "@subsquid/typeorm-migration",
  "description": "TypeORM based migration tool for squids",
  "version": "0.1.4",
  "license": "GPL-3.0-or-later",
  "repository": "git@github.com:subsquid/squid.git",
  "publishConfig": {
    "access": "public"
  },
  "bin": {
    "squid-typeorm-migration": "bin/squid-typeorm-migration",
    "squid-typeorm-migration-apply": "bin/squid-typeorm-migration-apply",
    "squid-typeorm-migration-create": "bin/squid-typeorm-migration-create",
    "squid-typeorm-migration-generate": "bin/squid-typeorm-migration-generate",
    "squid-typeorm-migration-revert": "bin/squid-typeorm-migration-revert"
  },
  "files": [
    "bin",
    "lib",
    "src"
  ],
  "dependencies": {
    "@subsquid/typeorm-config": "^2.0.0",
    "@subsquid/util-internal": "^1.0.0",
    "@subsquid/util-internal-code-printer": "^0.1.0",
    "commander": "^9.3.0",
    "dotenv": "^10.0.0"
  },
  "peerDependencies": {
    "typeorm": "^0.3.6"
  },
  "devDependencies": {
    "@types/node": "^16.11.41",
    "typescript": "~4.7.4"
  },
  "scripts": {
    "build": "rm -rf lib && tsc"
  },
  "readme": "# @subsquid/typeorm-migration\n\nA thin wrapper around [TypeORM migration tools](https://typeorm.io/migrations),\nwhich understands and follows squid project conventions.\n\n## Usage\n\n```bash\n# 1. Install\nnpm i @subsquid/typeorm-migration\n\n# 2. List available commands\nnpx squid-typeorm-migration --help\n```\n\n```\napply           apply pending migrations\ncreate          create template file for a new migration\ngenerate        analyze database state and generate migration to match the target schema\nrevert          revert the last applied migration\n```\n\n## Rules\n\n* All migrations should be written as plain commonjs files and placed at `db/migrations` \n* All entities should be exported from `lib/model` commonjs module, i.e. \nentity classes must be compiled from TypeScript before running `squid-typeorm-migration generate`.\n* Database connection settings are picked from `DB_*` environment variables.\n"
}