"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.rangeContains = exports.rangeEnd = exports.rangeDifference = exports.rangeIntersection = void 0;
function rangeIntersection(a, b) {
    let beg = Math.max(a.from, b.from);
    let end = Math.min(rangeEnd(a), rangeEnd(b));
    if (beg > end)
        return undefined;
    if (end === Infinity) {
        return { from: beg };
    }
    else {
        return { from: beg, to: end };
    }
}
exports.rangeIntersection = rangeIntersection;
function rangeDifference(a, b) {
    let i = rangeIntersection(a, b);
    if (i == null)
        return [a];
    let result = [];
    if (a.from < i.from) {
        result.push({ from: a.from, to: i.from - 1 });
    }
    if (i.to != null && i.to < rangeEnd(a)) {
        let from = i.to + 1;
        if (a.to) {
            result.push({ from, to: a.to });
        }
        else {
            result.push({ from });
        }
    }
    return result;
}
exports.rangeDifference = rangeDifference;
function rangeEnd(range) {
    return range.to ?? Infinity;
}
exports.rangeEnd = rangeEnd;
function rangeContains(big, small) {
    return big.from <= small.from && (big.to == null || big.to >= (small.to ?? Infinity));
}
exports.rangeContains = rangeContains;
//# sourceMappingURL=range.js.map